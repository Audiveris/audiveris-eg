<!DOCTYPE html>
<!-- ======================================================================= -->
<!--                    i n s t a l l a t i o n . h t m l                    -->
<!-- ======================================================================= -->
<html>
    <head>
        <title>Audiveris - Installation</title>
        <script>context = {page: "Installation", root: "../../"};</script>
        <meta name="classification" content="Procedure for Audiveris installation"/>
        <meta name="description" content="How to download and install Audiveris"/>

        <meta name="author" content="HervÃ© Bitteur"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="icon" href="../../branding/images/audiveris-icons-256.ico" type="image/x-icon"/>

        <link rel="stylesheet" href="../../branding/css/global.css"/>
        <link rel="stylesheet" href="../../branding/css/top-nav.css"/>
        <style type="text/css">
            /*<![CDATA[*/            
            article  {
                width: 93%;
            }

            nav h2 {
                font-size: 1.5em;
                margin: 0;
                padding: 0;
            }

            #summary  {
                width: 320px;
            }
            /*]]>*/
        </style>

    </head>
    <body>
        <script src="../../branding/js/header.js"></script> 
        <section class="main">

            <h1 class="center">
                Installation
            </h1>

            <div id="summary">
                <h2>Summary</h2>
                <ul>
                    <li><a href="#download">Download</a></li>
                    <li><a href="#system">Operating system</a></li>
                    <li><a href="#windows">Windows</a></li>
                    <li><a href="#building">Building from source</a></li>
                    <li><a href="#font">MusicalSymbols</a> font</li>
                    <li><a href="#java">Java</a></li>
                    <li><a href="#cpp">C++</a> (to allow OCR features)</li>
                </ul>
            </div>

            <article id="download">
                <h2>Downloading Audiveris</h2>
                <p>
                    The latest distribution material is always available on the 
                    <a href="http://kenai.com/projects/audiveris/downloads">
                        Audiveris download area</a> on Kenai site.
                </p>
                <dl>
                    <dt>
                    <b>Binary</b> distribution:
                    </dt>
                    <dd>
                        For Windows users, a pair of Microsoft Installer files 
                        is made available to address the 32-bit and 64-bit 
                        architectures.
                        The files are named respectively
                        <code>audiveris-V.v.revision-x86.msi</code> (for 32-bit) and
                        <code>audiveris-V.v.revision-x64.msi</code> (for 64-bit).
                        <br/>
                        Simply download the file that fits your architecture 
                        and launch the installation by a double-click on the 
                        downloaded file. 
                        This is nothing more to do.
                        For further details, you can refer to the <a href="#windows">
                            Windows</a> section.
                        <p>Nota: Audiveris Java code calls some C++ files via 
                            <code>jni</code>.
                            On a 64-bit machine, with a 64-bit
                            Java environment, make sure to use the 64-bit 
                            Audiveris release otherwise the C++ library will
                            fail to load.
                        </p>
                    </dd>
                    <dt>
                    <b>Source</b> distribution:
                    </dt>
                    <dd>
                        This distribution is meant for developers and for Linux users. 
                        There is one archive per release which, besides  
                        binary components and user manuals, provides source code, 
                        javadoc, build procedures, training material, etc.
                        The archive uses a <b>audiveris-V.v.revision-src.zip</b>
                        naming schema.
                        <br/>
                        Download the archive, create a dedicated directory
                        and expand the downloaded archive into this directory.
                        <br/>
                        For further information, see the <a href="#building">
                            Building</a> section.
                    </dd>
                </dl>
            </article>

            <article id="system">
                <h2>Operating system</h2>
                <ul>
                    <li>

                        Today Audiveris runs on <b>Windows</b> and <b>Linux</b>.
                    </li>
                    <li>
                        Audiveris is essentially a Java application,
                        and as such should run on many platforms.
                        Since release 3.2a, Audiveris delegates to  <b>Google Tesseract OCR</b> 
                        the transcription of textual glyphs. 
                        Tesseract is developed in C++ which makes it OS-dependent.
                    </li>
                    <li>
                        Audiveris has run on <b>Mac OS</b> for some time but, most notably, 
                        the connection to Tesseract is not yet implemented for this platform.
                    </li>
                </ul>
            </article>

            <article id="windows">
                <h2>Windows</h2>
                If needed by your environment, the Windows installer takes care 
                of all system-level components, namely:
                <ul>
                    <li>
                        <b>MusicalSymbols.ttf</b> font
                    </li>
                    <li>
                        Microsoft <b>Visual C++</b> 2008 SP1 Redistributable Package (x86)
                    </li>
                    <li>
                        <b>Tesseract</b> and <b>Leptonica</b> libraries
                    </li>
                    <li>
                        <b>Java 7</b> runtime
                    </li>
                </ul>
                Audiveris application data and configuration information are
                installed under the user location pointed by the 
                <code>%APPDATA%</code> environment variable.
            </article>

            <article id="building">
                <h2>Building from source</h2>
                This section gathers instructions about building Audiveris from 
                the source distribution.
                <dl>
                    <dt>Folders</dt>
                    <dd>
                        The file <a href="../../../dev/material/global-tree.txt">
                            global-tree.text</a> describes the general 
                        organization of Audiveris folders.
                    </dd>
                    <dt> 
                    Preliminary check
                    </dt>
                    <dd>Make sure the definitions located in
                        <code>dev/build.default.properties</code> are properly
                        overridden as needed in a potential <code>build.properties</code>
                        file located in your user directory. 
                        The location depends on your system environment.
                        For Windows, it's <code>%APPDATA%/AudiverisLtd/audiveris/build.properties</code>.
                    </dd>

                    <dt>
                    Using <b>NetBeans</b>
                    </dt>
                    <dd>
                        <ul>
                            <li>
                                The source distribution already provides a 
                                populated <code>nbproject</code> folder.
                                Hence, you don't need to create a NetBeans 
                                project, you can simply open this project from 
                                within the NetBeans environment.
                            </li>
                            <li>
                                Directly clean and build the whole project using
                                the NetBeans commands.
                            </li>
                        </ul>

                    </dd>
                    <dt>
                    Using <b>Ant</b>
                    </dt>
                    <dd>
                        Whether you use NetBeans or prefer using Ant directly,
                        the building is handled by the <code>build.xml</code>
                        file located in Audiveris root folder.
                        This file imports the NetBeans targets (located in 
                        <code>nbproject</code>) and a specific system-dependent
                        file (<code>dev/windows/-windows.xml</code> for Windows,
                        <code>dev/unix/-unix.xml</code> for Linux).
                        The organization of Ant tasks is described by this
                        <a target="_blank" href="../../../dev/material/tasks-graph.pdf">graph</a>.
                        <ul>
                            <li>
                                From Audiveris root directory, you can launch 
                                <code>ant clean jar run</code>. This builds the
                                Audiveris jar file and launches the application.
                            </li>
                            <li>
                                Other Ant targets are available. 
                                For example the command <code>ant installers</code>
                                builds the installers (both 32-bit and 64-bit)
                                for the system you are running (either Windows
                                or Linux).
                            </li>
                        </ul>
                    </dd>

                    <dt>Building Windows installers</dt>
                    <dd>
                        Windows installers are built in the form of 
                        <code>.msi</code> files.
                        The command <code>ant installers</code> takes care of
                        their building under Windows, but needs the free 
                        <abbr title="Windows installer XML">WiX</abbr> software
                        to be installed beforehand and made available on the path.
                        As of this writing, we use version 3.5 of the WiX 
                        toolset, available at <a href="http://wix.codeplex.com/">
                            http://wix.codeplex.com/</a>.
                    </dd>
                </dl>
            </article>

            <article id="font">
                <h2>MusicalSymbols font</h2>
                Audiveris makes use of a free font named <b>MusicalSymbols.ttf</b>.
                The font is needed for interactive mode (score display) and
                also for batch mode (computation of symbols characteristics).
                <ul>
                    <li>
                        For Windows, the installer takes care of the font installation.
                    </li>
                    <li>
                        For Linux, you can download the font from various sites such as the
                        <a href="http://www.allfreefonts.com/font-9626-musical_symbols.html">allfreefonts site</a>.
                        Follow the simple instructions provided on this site to 
                        install the font according to your system.
                        <br/>
                        (For your convenience, a copy of this font file is already
                        available in the <code>dev/material</code> folder of the 
                        Audiveris directory).
                    </li>
                </ul>
            </article>

            <article id="java">
                <h2>Java runtime</h2>
                <b>Java 7</b>, or higher, is required.
                <ul>
                    <li>
                        For Windows, the application launcher will make sure
                        you have at least Java 7 installed.
                    </li>

                    <li>For Linux, you can download and install the latest Java 
                        version from <a href="http://www.java.com/en/download/">Sun/Oracle site</a>
                        or IcedTea from <a href="http://openjdk.java.net/projects/icedtea/">OpenJDK site</a>.
                    </li>
                </ul>
            </article>

            <article id="cpp">
                <h2>C++ runtime</h2>
                <p>
                    C++ runtime environment is needed to run Tesseract OCR which
                    comes with Audiveris distribution.
                </p>
                <ul>
                    <li>For Windows, the installer takes care of the Microsoft 
                        C++ runtime installation if needed.
                    </li>
                    <li>
                        For Linux, 
                        <span style="text-decoration: line-through;">
                            download the <code>tesjeract</code> source
                            from <a href="http://code.google.com/p/tesjeract/">http://code.google.com/p/tesjeract/</a>
                            and follow the provided instructions to build this interface.
                            <br/>
                        </span>
                        Documentation for Linux bridge to Tesseract V3 should be
                        published shortly.
                    </li>
                </ul>
            </article>

        </section>
        <script src="../../branding/js/footer.js"></script> 
    </body>
</html>
