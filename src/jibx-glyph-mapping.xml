<?xml version="1.0"?>
<!-- ================================================================== -->
<!--                                                                    -->
<!--           j i b x - g l y p h - m a p p i n g . x m l              -->
<!--                                                                    -->
<!-- Copyright (C) Herve Bitteur 2000-2006. All rights reserved.        -->
<!-- This software is released under the terms of the GNU General Public-->
<!-- License. Please contact the author at herve.bitteur@laposte.net    -->
<!-- to report bugs & suggestions.                                      -->
<!-- ================================================================== -->

<binding>

    <!--       -->
    <!-- Glyph -->
    <!--       -->
    <mapping name="glyph" class="omr.glyph.Glyph">
	<value name="id" field="id"
	       style="attribute" />
	<value name="interline" field="interline"
	       style="attribute" />
	<value name="shape" field="shape"
	       deserializer="omr.glyph.Shape.valueOf"
	       style="attribute" />

	<value name="stem-number" field="stemNumber" />
	<value name="has-ledger" field="hasLedger" />
	<value name="pitch-position" field="pitchPosition" />
	
	<structure field="moments">
	    <collection name="moments" field="k"> 
		<value name="k" />
	    </collection>
	</structure>
	
	<collection
	    name="members"
	    field="members"
	    type="java.util.ArrayList"
	    item-type="omr.glyph.GlyphSection"
	    />
    </mapping>

    <!--       -->
    <!-- Stick -->
    <!--       -->
    <mapping name="stick" class="omr.stick.Stick">
	<value name="id" field="id"
	       style="attribute" />
	<value name="interline" field="interline"
	       style="attribute" />
	<value name="shape" field="shape"
	       deserializer="omr.glyph.Shape.valueOf"
	       style="attribute" />

	<value name="stem-number" field="stemNumber" />
	<value name="has-ledger" field="hasLedger" />
	<value name="pitch-position" field="pitchPosition" />
	
	<structure field="moments">
	    <collection name="moments" field="k"> 
		<value name="k" />
	    </collection>
	</structure>
	
	<collection
	    name="members"
	    field="members"
	    type="java.util.ArrayList"
	    item-type="omr.glyph.GlyphSection"
	    />
    </mapping>
	     
    <!--         -->
    <!-- Section -->
    <!--         -->
    <mapping class="omr.lag.Section" abstract="true"
             value-style="attribute">
        <value name="id" field="id" />
        <value name="first-pos" field="firstPos" />
        <collection field="runs"
                    type="java.util.ArrayList"
                    item-type="omr.lag.Run" />
    </mapping>
    
    <!--              -->
    <!-- GlyphSection -->
    <!--              -->
    <mapping name="section" class="omr.glyph.GlyphSection"
	     extends="omr.lag.Section"
             value-style="attribute">
	<structure map-as="omr.lag.Section" />
    </mapping>
    
    <!--     -->
    <!-- Run -->
    <!--     -->
    <mapping name="run" class="omr.lag.Run" value-style="attribute">
        <value name="start" field="start" />
        <value name="length" field="length" />
        <value name="level" field="level" />
    </mapping>    
    
</binding>
