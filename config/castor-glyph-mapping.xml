<?xml version="1.0"?>
<!-- ================================================================== -->
<!--                                                                    -->
<!--          c a s t o r - g l y p h - m a p p i n g . x m l           -->
<!--                                                                    -->
<!--  Copyright (C) Herve Bitteur 2000-2004. All rights reserved.       -->
<!--  This software is released under the terms of the GNU General Public-->
<!--  License. Please contact the author at herve.bitteur@laposte.net   -->
<!--  to report bugs & suggestions.                                     -->
<!-- ================================================================== -->

<!-- <!DOCTYPE glyphs SYSTEM 'mapping.dtd'> -->

<mapping>

    <description>
	The Castor mapping file for a single glyph
	$Id$
    </description>
    
    <!--       -->
    <!-- Glyph -->
    <!--       -->
    <class name="omr.glyph.Glyph"
	   verify-constructable="false">
        <map-to xml="glyph"/>
	
        <field name="id"
	       type="integer"
	       get-method="getId"
	       set-method="%1"
	       >
            <bind-xml node="attribute"/>
        </field>
	
        <field name="interline"
	       type="integer"
	       get-method="getInterline"
	       set-method="setInterline"
	       >
            <bind-xml node="attribute"/>
        </field>
	
        <field name="shape"
	       type="string"
	       get-method="getStringShape"
	       set-method="setStringShape"
	       >
            <bind-xml node="attribute"/>
        </field>
	
        <field name="is-within-system"
	       type="boolean"
	       get-method="isWithinSystem"
	       set-method="setIsWithinSystem"
	       >
<!--             <bind-xml node="attribute"/> -->
        </field>
	
        <field name="has-ledger"
	       type="boolean"
	       get-method="hasLedger"
	       set-method="setHasLedger"
	       >
<!--             <bind-xml node="attribute"/> -->
        </field>
	
        <field name="stem-number"
	       type="integer"
	       get-method="getStemNumber"
	       set-method="setStemNumber"
	       >
<!--             <bind-xml node="attribute"/> -->
        </field>
	
        <field name="step-line"
	       type="double"
	       get-method="getStepLine"
	       set-method="setStepLine"
	       >
<!--             <bind-xml node="attribute"/> -->
        </field>
	
 	<field name="moments"
 	       type="omr.math.Moments"
 	       />
	
 	<field name="section"
 	       type="omr.glyph.GlyphSection"
  	       collection="collection"
  	       get-method="getMembers"
 	       set-method="setMembers"
  	       />
	
    </class>
    
    <!--       -->
    <!-- Stick -->
    <!--       -->
    <class name="omr.stick.Stick"
 	   extends="omr.glyph.Glyph">
	<map-to xml="stick"/>
    </class>
    
    <!--         -->
    <!-- Moments -->
    <!--         -->
    <class name="omr.math.Moments">
        <map-to xml="moments"/>
	
        <field name="k"
	       type="double"
	       collection="array"
	       direct="true"
	       />
    </class>
    
    <!--              -->
    <!-- GlyphSection -->
    <!--              -->
    <class name="omr.glyph.GlyphSection">
	<map-to xml="section"/>
	
	<field name="id"
 	       type="integer"
	       get-method="getId"
	       set-method="setId"
 	       >
             <bind-xml node="attribute"/>
         </field>
	
         <field name="firstPos"
 	       type="integer"
 	       >
             <bind-xml node="attribute"/>
         </field>
	
         <field name="run"
 	       type="omr.lag.Run"
 	       collection="collection"
 	       get-method="getRuns"
 	       />
    </class>
    
    <!--              -->
    <!-- StickSection -->
    <!--              -->
    <class name="omr.stick.StickSection"
 	   extends="omr.glyph.GlyphSection">
	<map-to xml="section"/>
    </class>
    
    <!--     -->
    <!-- Run -->
    <!--     -->
    <class name="omr.lag.Run"
	   verify-constructable="false">
        <map-to xml="run"/>
	
        <field name="start"
	       set-method="%1"
	       get-method="getStart"
	       type="integer"
	       >
            <bind-xml node="attribute"/>
        </field>
	
        <field name="length"
	       set-method="%2"
	       get-method="getLength"
	       type="integer"
	       >
            <bind-xml node="attribute"/>
        </field>
	
        <field name="level"
	       set-method="%3"
	       get-method="getLevel"
	       type="integer"
	       >
            <bind-xml node="attribute"/>
        </field>
    </class>
    
</mapping>
